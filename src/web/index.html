
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Murder Mystery Mansion</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="prison-bars.css">
	<link href="https://fonts.googleapis.com/css2?family=Creepster&family=Cinzel:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    
	<div class="container">
		<div class="title" >
			<div class="spooky">Murder Mystery Mansion</div>
			<div class="subtitle">An MCP Adventure</div>
		</div>
		<div id="start" class="room-image-wrapper">
			<div style="display: flex; justify-content: center; align-items: center;">
				<img src="/assets/study.png" alt="Current Room" class="room-image" id="room-img-intro">
				<button id="play-btn" class="play-btn">▶</button>
			</div>
			<div class="step-in">step in</div>

			<div class="character-gallery" style="display:flex; flex-wrap:wrap; gap:24px; justify-content:center; margin-top:110px;">
				<!-- Character cards will be dynamically generated here -->
			</div>
			<script>
			const characterGallery = document.querySelector('.character-gallery');
			const characters = [
				{ name: "Margaux", img: "/assets/characters/margaux.png" },
				{ name: "Eloise", img: "/assets/characters/eloise.png" },
				{ name: "Henri", img: "/assets/characters/henri.png" },
				{ name: "Julien", img: "/assets/characters/julien.png" },
				{ name: "Madeleine", img: "/assets/characters/madeleine.png" },
				{ name: "Pierre", img: "/assets/characters/pierre.png" },
				{ name: "Lucien", img: "/assets/characters/lucien.png" },
			];

			characters.forEach(char => {
				const card = document.createElement('div');
				card.style.background = 'rgba(34,34,34,0.92)';
				card.style.borderRadius = '14px';
				card.style.boxShadow = '0 4px 24px #111';
				card.style.padding = '18px 16px 10px 16px';
				card.style.display = 'flex';
				card.style.flexDirection = 'column';
				card.style.alignItems = 'center';
				card.style.width = '140px';
				card.style.transition = 'transform 0.2s';
				card.onmouseover = () => card.style.transform = 'scale(1.06)';
				card.onmouseout = () => card.style.transform = 'scale(1)';

				// Wrapper for image and overlay
				const wrapper = document.createElement('div');
				wrapper.className = 'gallery-img-wrapper';
				wrapper.style.width = '90px';
				wrapper.style.height = '90px';
				wrapper.style.position = 'relative';

				const img = document.createElement('img');
				img.src = char.img;
				img.alt = char.name;
				img.style.width = '90px';
				img.style.height = '90px';
				img.style.objectFit = 'contain';
				img.style.borderRadius = '50%';
				img.style.border = '3px solid #eaeaea';
				img.style.marginBottom = '12px';

				const overlay = document.createElement('img');
				overlay.src = '/assets/prison-bars.svg';
				overlay.className = 'prison-bars-overlay';
				overlay.style.borderRadius = '50%';

				wrapper.appendChild(img);
				wrapper.appendChild(overlay);

				// Show overlay on hover
				wrapper.addEventListener('mouseenter', () => {
					overlay.style.display = 'block';
				});
				wrapper.addEventListener('mouseleave', () => {
					overlay.style.display = 'none';
				});

				const name = document.createElement('div');
				name.textContent = char.name;
				name.style.fontFamily = "'Cinzel', serif";
				name.style.fontWeight = '700';
				name.style.fontSize = '1.1em';
				name.style.color = '#fff';
				name.style.textAlign = 'center';

				card.appendChild(wrapper);
				card.appendChild(name);
				characterGallery.appendChild(card);
			});
			</script>
		</div>

		<div id="spinner" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index:2000;">
			<div style="width:64px; height:64px; border:8px solid #ccc; border-top:8px solid #222; border-radius:50%; animation:spin 1s linear infinite;"></div>
		</div>
		<style>
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
		</style>
		<button id="left-arrow">&#8592;</button>
		<button id="right-arrow">&#8594;</button>

		<div id="game-area" style="display:none;">
			<div id="room_image" class="room-image-wrapper" style="position:relative;">
				<img src="/assets/study.png" alt="Current Room" class="room-image" id="room-img">
				
				<div style="margin-top:16px; display:flex; gap:24px; justify-content:center;">
					<img id="character-img" src="/assets/MargauxLefevre.png" alt="Character" >
					<img id="item-img" src="/assets/binoculars.png" alt="Item">
				</div>
			</div>
			<div id="room" style="display:none">
				<div>
					<h2 id="room-title">Study</h2>
				</div>
				<div class="room-description" id="room-desc">
					The study is shrouded in shadows. Flickering candlelight reveals a blood-stained letter opener on the desk. The air is thick with secrets and the scent of old books. You feel a chill as if someone—or something—is watching you.
				</div>
			</div>
		</div>

		<!-- Character Modal -->
		<div id="item-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#222; color:#fff; padding:32px; border-radius:12px; z-index:1000; min-width:340px; height:600px">
			<h2 id="item-title">item title</h2>
			<img style="width: 100px" id="item-url" src="/assets/binoculars.png" alt="Item">
			<div class="item-content"></div>
			<button class="close-modal" style="margin-top:8px; padding:8px 24px;">Close</button>
		</div> 

		<!-- Character Modal -->
		<div id="character-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#222; color:#fff; padding:32px; border-radius:12px; z-index:1000; min-width:340px; height:600px">
			<div class="modal-content"></div>
			<div class="modal-chat" id="modal-chat" style="background:rgba(30,30,30,0.85); border-radius:10px; box-shadow:0 0 20px 5px #111; padding:16px; font-size:1em;">
			lorem ipsum dolor sit amet, consectetur adipiscing elit.
				
			</div>
			<div class="control">
				<input type="text" class="modal-chat-input" id="modal-chat-input" placeholder="Type your message..." style="width:80%; padding:12px; border-radius:8px; border:none; background:#222; color:#eaeaea; font-size:1em; box-shadow:0 0 10px 2px #111; margin-bottom:8px;">
				<button id="talk-btn" class="submit" style="margin-top:8px; padding:8px 24px;">Say</button>
				<button id="interrogate-btn" class="submit" style="margin-top:8px; padding:8px 24px;">Interrogate</button>
				<button class="close-modal" style="margin-top:8px; padding:8px 24px;">Close</button>
			</div>
		</div>
	</div>
	<script type="module">
		import './model.js';
		import './view.js';
		import './controller.js';
	</script>
</div>

